<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êô∫ËÉΩËäÇÊó•ÂÄíËÆ°Êó∂Á≥ªÁªü - ÂÆåÊï¥Áâà</title>
    
    <!-- Â§ñÈÉ®Â∫ì -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@100;300;400;500;700;900&family=ZCOOL+QingKe+HuangYou&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <style>
        /* ========== Âü∫Á°ÄÈáçÁΩÆ ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, 
                #0a0a1a 0%, 
                #1a1a2e 30%, 
                #16213e 70%, 
                #0f3460 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            line-height: 1.6;
        }
        
        /* ========== ÊòüÁ©∫ËÉåÊôØÁ≥ªÁªü ========== */
        .universe-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -10;
            overflow: hidden;
        }
        
        .galaxy-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }
        
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: starTwinkle var(--duration) infinite ease-in-out;
            box-shadow: 0 0 var(--glow) rgba(255, 255, 255, var(--glow-opacity));
        }
        
        .shooting-star {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8));
            width: 120px;
            height: 2px;
            border-radius: 50%;
            animation: shootStar var(--speed) linear infinite;
            transform: rotate(var(--angle));
            opacity: 0;
        }
        
        .nebula {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.1;
            mix-blend-mode: screen;
        }
        
        /* ========== Á≤íÂ≠êËÉåÊôØ ========== */
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -5;
            pointer-events: none;
        }
        
        /* ========== ‰∏ªÂÆπÂô® ========== */
        .main-container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            padding: 30px 20px 100px;
            max-width: 1600px;
            margin: 0 auto;
        }
        
        /* ========== Ê¨¢ËøéÁïåÈù¢ ========== */
        .welcome-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, 
                rgba(0, 4, 40, 0.95) 0%, 
                rgba(10, 10, 26, 0.98) 70%);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(20px);
            animation: overlayEntrance 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .welcome-card {
            background: linear-gradient(145deg,
                rgba(25, 25, 60, 0.9) 0%,
                rgba(40, 40, 80, 0.7) 100%);
            border-radius: 35px;
            padding: 80px 70px;
            width: 90%;
            max-width: 680px;
            text-align: center;
            border: 2px solid rgba(51, 204, 255, 0.3);
            box-shadow: 
                0 40px 80px rgba(0, 0, 0, 0.6),
                0 0 150px rgba(51, 204, 255, 0.25),
                inset 0 0 60px rgba(255, 255, 255, 0.05);
            animation: cardFloat 8s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }
        
        .welcome-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                #ff3366, #33ccff, #ffcc00, #00cc88);
            z-index: -1;
            border-radius: 37px;
            filter: blur(20px);
            opacity: 0.3;
            animation: gradientBorder 8s linear infinite;
        }
        
        .welcome-title {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 4.8rem;
            background: linear-gradient(45deg, 
                #FF3366 0%, 
                #33CCFF 33%, 
                #FFCC00 66%, 
                #00CC88 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 35px;
            text-shadow: 
                0 0 60px rgba(255, 51, 102, 0.4),
                0 0 120px rgba(51, 204, 255, 0.3);
            letter-spacing: 4px;
            line-height: 1.2;
            position: relative;
        }
        
        .welcome-title::after {
            content: '‚ú®';
            position: absolute;
            top: -20px;
            right: -40px;
            font-size: 3rem;
            animation: sparkle 3s ease-in-out infinite;
        }
        
        .welcome-subtitle {
            font-size: 1.8rem;
            color: #33CCFF;
            margin-bottom: 60px;
            letter-spacing: 3px;
            font-weight: 300;
            text-shadow: 0 0 25px rgba(51, 204, 255, 0.5);
        }
        
        .form-group {
            margin-bottom: 45px;
            text-align: left;
        }
        
        .form-label {
            display: block;
            margin-bottom: 20px;
            color: #FFCC00;
            font-size: 1.4rem;
            font-weight: 500;
            letter-spacing: 2px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .form-label i {
            font-size: 1.6rem;
            filter: drop-shadow(0 0 10px currentColor);
        }
        
        .form-input {
            width: 100%;
            padding: 25px 30px;
            background: rgba(255, 255, 255, 0.07);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            color: #fff;
            font-size: 1.4rem;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Noto Sans SC', sans-serif;
        }
        
        .form-input:focus {
            background: rgba(255, 255, 255, 0.12);
            border-color: #33CCFF;
            box-shadow: 
                0 0 50px rgba(51, 204, 255, 0.6),
                inset 0 0 20px rgba(51, 204, 255, 0.2);
            outline: none;
            transform: translateY(-5px) scale(1.02);
        }
        
        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
            font-weight: 300;
        }
        
        /* ========== ‰∏ªÂÜÖÂÆπÂå∫Âüü ========== */
        .main-content {
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .main-content.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* ========== Â§¥ÈÉ®Âå∫Âüü ========== */
        .main-header {
            text-align: center;
            padding: 80px 20px 60px;
            position: relative;
        }
        
        .year-display {
            font-family: 'ZCOOL QingKe HuangYou', cursive;
            font-size: 12rem;
            font-weight: 900;
            color: transparent;
            background: linear-gradient(45deg, 
                #FF3366 0%, 
                #33CCFF 25%, 
                #FFCC00 50%, 
                #00CC88 75%, 
                #9966FF 100%);
            -webkit-background-clip: text;
            background-clip: text;
            margin-bottom: 30px;
            text-shadow: 
                0 0 80px rgba(255, 51, 102, 0.5),
                0 0 160px rgba(51, 204, 255, 0.4),
                0 0 240px rgba(255, 204, 0, 0.3);
            letter-spacing: 15px;
            animation: yearGlow 4s ease-in-out infinite;
            line-height: 1;
            position: relative;
            display: inline-block;
        }
        
        .year-display::before,
        .year-display::after {
            content: 'üéÜ';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 4rem;
            animation: fireworkSpin 6s linear infinite;
        }
        
        .year-display::before {
            left: -80px;
        }
        
        .year-display::after {
            right: -80px;
        }
        
        .countdown-prompt {
            font-size: 2.5rem;
            color: #33CCFF;
            margin-top: 20px;
            letter-spacing: 4px;
            font-weight: 300;
            text-shadow: 0 0 35px rgba(51, 204, 255, 0.7);
        }
        
        /* ========== ÂÄíËÆ°Êó∂Âå∫Âüü ========== */
        .countdown-section {
            position: relative;
            margin: 60px auto;
            max-width: 1300px;
        }
        
        .countdown-container {
            background: linear-gradient(145deg,
                rgba(20, 20, 50, 0.85) 0%,
                rgba(40, 40, 80, 0.65) 100%);
            backdrop-filter: blur(35px);
            border-radius: 40px;
            padding: 80px 60px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 40px 80px rgba(0, 0, 0, 0.5),
                inset 0 0 150px rgba(255, 255, 255, 0.08),
                0 0 100px rgba(51, 204, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .countdown-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 51, 102, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(51, 204, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 204, 0, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .countdown-title {
            text-align: center;
            font-size: 3.8rem;
            color: #FFCC00;
            margin-bottom: 80px;
            text-shadow: 
                0 0 40px rgba(255, 204, 0, 0.9),
                0 0 80px rgba(255, 204, 0, 0.5);
            letter-spacing: 6px;
            font-weight: 700;
            font-family: 'Ma Shan Zheng', cursive;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .countdown-title::before,
        .countdown-title::after {
            content: '‚è∞';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3rem;
            animation: clockTick 2s ease-in-out infinite;
        }
        
        .countdown-title::before {
            left: -70px;
        }
        
        .countdown-title::after {
            right: -70px;
        }
        
        /* ========== ÂÄíËÆ°Êó∂ÁΩëÊ†º ========== */
        .countdown-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 40px;
        }
        
        .countdown-item {
            background: linear-gradient(135deg, 
                rgba(255, 51, 102, 0.25) 0%, 
                rgba(51, 204, 255, 0.25) 50%,
                rgba(255, 204, 0, 0.25) 100%);
            border-radius: 30px;
            padding: 70px 40px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .countdown-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 51, 102, 0.35) 0%, 
                rgba(51, 204, 255, 0.35) 50%,
                rgba(255, 204, 0, 0.35) 100%);
            opacity: 0;
            transition: opacity 0.6s;
            z-index: 1;
        }
        
        .countdown-item:hover {
            transform: translateY(-25px) scale(1.1);
            box-shadow: 
                0 50px 100px rgba(0, 0, 0, 0.7),
                0 0 120px rgba(255, 51, 102, 0.5),
                0 0 200px rgba(51, 204, 255, 0.3);
            z-index: 2;
        }
        
        .countdown-item:hover::before {
            opacity: 1;
        }
        
        .countdown-item:hover .countdown-value {
            text-shadow: 
                0 0 60px rgba(255, 51, 102, 0.9),
                0 0 120px rgba(255, 51, 102, 0.6);
        }
        
        .countdown-value {
            font-size: 7rem;
            font-weight: 900;
            color: #FF3366;
            text-shadow: 
                0 0 50px rgba(255, 51, 102, 0.8),
                0 0 100px rgba(255, 51, 102, 0.4);
            line-height: 1;
            margin-bottom: 25px;
            font-family: 'ZCOOL QingKe HuangYou', cursive;
            position: relative;
            z-index: 2;
            transition: all 0.6s;
        }
        
        .countdown-label {
            font-size: 2rem;
            color: #33CCFF;
            text-transform: uppercase;
            letter-spacing: 6px;
            font-weight: 600;
            text-shadow: 0 0 30px rgba(51, 204, 255, 0.7);
            position: relative;
            z-index: 2;
        }
        
        /* ========== ÁÉüËä±ÁâπÊïàÂ±Ç ========== */
        .fireworks-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2000;
            pointer-events: none;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }
        
        .fireworks-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .firework-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: fireworkExplode 1.5s ease-out forwards;
            box-shadow: 
                0 0 15px currentColor,
                0 0 30px currentColor;
            filter: blur(0.5px);
        }
        
        /* ========== Á≤íÂ≠êÊñáÂ≠óÁ≥ªÁªü ========== */
        .particle-text-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2100;
            display: none;
            pointer-events: none;
        }
        
        .particle-text-container.active {
            display: block;
        }
        
        #particle-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        /* ========== ‰ø°Â∞ÅÁ≥ªÁªü ========== */
        .envelope-section {
            position: fixed;
            bottom: 25vh;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2200;
            text-align: center;
            width: 100%;
            max-width: 700px;
            padding: 0 30px;
            display: none;
        }
        
        .envelope-section.active {
            display: block;
            animation: envelopeFloat 3.5s ease-in-out infinite;
        }
        
        .envelope-hint {
            color: #FFCC00;
            font-size: 2rem;
            margin-bottom: 40px;
            text-shadow: 
                0 0 30px rgba(255, 204, 0, 0.8),
                0 0 60px rgba(255, 204, 0, 0.4);
            animation: hintPulse 3s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }
        
        .envelope-hint i {
            animation: giftFloat 2s ease-in-out infinite;
        }
        
        /* ========== Ë¥∫Âç°Á≥ªÁªü ========== */
        .letter-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 40px;
            backdrop-filter: blur(10px);
        }
        
        .letter-overlay.active {
            display: flex;
            animation: overlayFadeIn 0.8s ease;
        }
        
        .letter-container {
            background: linear-gradient(135deg, 
                #fff8e1 0%, 
                #ffecb3 30%,
                #ffe082 70%,
                #ffd54f 100%);
            border-radius: 40px;
            padding: 90px 80px;
            width: 90%;
            max-width: 850px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.8) rotateX(-15deg);
            opacity: 0;
            transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 60px 120px rgba(0, 0, 0, 0.8),
                0 0 250px rgba(255, 51, 102, 0.6),
                inset 0 0 100px rgba(255, 215, 0, 0.3);
            border: 20px solid #d32f2f;
        }
        
        .letter-container.active {
            transform: scale(1) rotateX(0);
            opacity: 1;
        }
        
        .letter-header {
            color: #d32f2f;
            border-bottom: 8px solid #ff9800;
            padding-bottom: 40px;
            margin-bottom: 50px;
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 3rem;
            text-shadow: 
                5px 5px 10px rgba(0, 0, 0, 0.2),
                0 0 20px rgba(255, 152, 0, 0.3);
            position: relative;
        }
        
        .letter-header::after {
            content: '‚úâÔ∏è';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2.5rem;
            animation: envelopeShake 0.5s ease-in-out infinite;
        }
        
        .letter-content {
            color: #5d4037;
            font-size: 1.8rem;
            line-height: 2.2;
            font-family: 'Ma Shan Zheng', cursive;
            text-align: justify;
            margin-bottom: 60px;
            padding: 50px;
            background: rgba(255, 255, 255, 0.97);
            border-radius: 25px;
            border-left: 12px solid #4caf50;
            box-shadow: 
                0 20px 50px rgba(0, 0, 0, 0.2),
                inset 0 0 30px rgba(255, 255, 255, 0.5);
            position: relative;
        }
        
        .letter-content::before {
            content: '"';
            position: absolute;
            top: -30px;
            left: 30px;
            font-size: 8rem;
            color: rgba(76, 175, 80, 0.2);
            font-family: 'Times New Roman', serif;
        }
        
        /* ========== ËäÇÊó•Êó•ÂéÜ ========== */
        .calendar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.97);
            z-index: 4000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 40px;
            backdrop-filter: blur(15px);
        }
        
        .calendar-overlay.active {
            display: flex;
        }
        
        .calendar-container {
            background: linear-gradient(145deg,
                rgba(25, 25, 60, 0.95) 0%,
                rgba(40, 40, 80, 0.85) 100%);
            border-radius: 40px;
            padding: 80px 70px;
            width: 90%;
            max-width: 1400px;
            max-height: 90vh;
            overflow-y: auto;
            border: 3px solid rgba(51, 204, 255, 0.4);
            box-shadow: 
                0 50px 100px rgba(0, 0, 0, 0.7),
                0 0 200px rgba(51, 204, 255, 0.5),
                inset 0 0 100px rgba(255, 255, 255, 0.08);
        }
        
        .calendar-title {
            text-align: center;
            font-size: 3.5rem;
            color: #FFCC00;
            margin-bottom: 70px;
            text-shadow: 
                0 0 40px rgba(255, 204, 0, 0.9),
                0 0 80px rgba(255, 204, 0, 0.5);
            letter-spacing: 5px;
            font-weight: 700;
            font-family: 'Ma Shan Zheng', cursive;
            position: relative;
        }
        
        .calendar-title::before,
        .calendar-title::after {
            content: 'üéä';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3rem;
            animation: confettiFloat 2s ease-in-out infinite;
        }
        
        .calendar-title::before {
            left: -70px;
        }
        
        .calendar-title::after {
            right: -70px;
        }
        
        .holiday-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 40px;
            margin-bottom: 60px;
        }
        
        .holiday-card {
            background: linear-gradient(135deg,
                rgba(255, 51, 102, 0.2) 0%,
                rgba(51, 204, 255, 0.2) 50%,
                rgba(255, 204, 0, 0.2) 100%);
            border-radius: 30px;
            padding: 50px 40px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .holiday-card:hover {
            transform: translateY(-20px) scale(1.05);
            box-shadow: 
                0 40px 80px rgba(0, 0, 0, 0.6),
                0 0 100px rgba(255, 51, 102, 0.4);
            border-color: rgba(255, 51, 102, 0.5);
        }
        
        .holiday-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg,
                rgba(255, 51, 102, 0.3) 0%,
                rgba(51, 204, 255, 0.3) 50%,
                rgba(255, 204, 0, 0.3) 100%);
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .holiday-card:hover::before {
            opacity: 1;
        }
        
        .holiday-card-icon {
            font-size: 3.5rem;
            margin-bottom: 25px;
            color: var(--holiday-color, #FFCC00);
            text-shadow: 0 0 30px currentColor;
            display: block;
        }
        
        .holiday-card-title {
            font-size: 2.2rem;
            color: #FFCC00;
            margin-bottom: 20px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        
        .holiday-card-date {
            font-size: 1.6rem;
            color: #33CCFF;
            margin-bottom: 25px;
            font-weight: 500;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .holiday-card-desc {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.95);
            line-height: 1.7;
            position: relative;
            z-index: 1;
        }
        
        /* ========== ÊåâÈíÆÊ†∑Âºè ========== */
        .btn {
            background: linear-gradient(135deg, 
                #FF3366 0%, 
                #33CCFF 100%);
            color: white;
            border: none;
            padding: 28px 80px;
            border-radius: 60px;
            font-size: 1.5rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
            position: relative;
            overflow: hidden;
            letter-spacing: 2px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                0 0 60px rgba(255, 51, 102, 0.4);
            font-family: 'Noto Sans SC', sans-serif;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.2) 0%, 
                transparent 100%);
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .btn:hover {
            transform: translateY(-12px) scale(1.08);
            box-shadow: 
                0 30px 60px rgba(0, 0, 0, 0.5),
                0 0 100px rgba(255, 51, 102, 0.6),
                0 0 150px rgba(51, 204, 255, 0.4);
        }
        
        .btn:hover::before {
            opacity: 1;
        }
        
        .btn i {
            font-size: 1.8rem;
            transition: transform 0.5s;
        }
        
        .btn:hover i {
            transform: scale(1.3) rotate(15deg);
        }
        
        .btn-large {
            padding: 35px 100px;
            font-size: 1.8rem;
        }
        
        /* ========== Á§æ‰∫§ÈìæÊé• ========== */
        .social-links {
            position: fixed;
            bottom: 50px;
            right: 50px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .social-btn {
            width: 85px;
            height: 85px;
            border-radius: 50%;
            background: linear-gradient(135deg, 
                rgba(255, 51, 102, 0.3) 0%, 
                rgba(51, 204, 255, 0.3) 100%);
            backdrop-filter: blur(25px);
            border: 2px solid rgba(255, 255, 255, 0.25);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 2.2rem;
            text-decoration: none;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }
        
        .social-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 51, 102, 0.5) 0%, 
                rgba(51, 204, 255, 0.5) 100%);
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .social-btn:hover {
            transform: translateY(-15px) scale(1.25);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 0 80px rgba(255, 51, 102, 0.5);
        }
        
        .social-btn:hover::before {
            opacity: 1;
        }
        
        /* ========== ÈÄöÁü•Á≥ªÁªü ========== */
        .notification {
            position: fixed;
            top: 50px;
            right: 50px;
            background: linear-gradient(135deg, 
                #FF3366, 
                #33CCFF);
            color: white;
            padding: 35px 50px;
            border-radius: 25px;
            z-index: 5000;
            transform: translateX(150%);
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-width: 500px;
            font-size: 1.4rem;
            font-weight: 600;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 0 60px rgba(255, 51, 102, 0.5);
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification i {
            font-size: 2rem;
        }
        
        /* ========== ÁÆ°ÁêÜÂëòÈù¢Êùø ========== */
        .admin-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98);
            z-index: 6000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 40px;
            backdrop-filter: blur(30px);
        }
        
        .admin-overlay.active {
            display: flex;
        }
        
        .admin-container {
            background: linear-gradient(145deg,
                rgba(15, 15, 40, 0.95) 0%,
                rgba(30, 30, 70, 0.85) 100%);
            border-radius: 40px;
            padding: 90px 80px;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            border: 3px solid rgba(51, 204, 255, 0.5);
            box-shadow: 
                0 60px 120px rgba(0, 0, 0, 0.7),
                0 0 250px rgba(51, 204, 255, 0.6),
                inset 0 0 150px rgba(255, 255, 255, 0.1);
        }
        
        /* ========== Âä†ËΩΩÂä®Áîª ========== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98);
            z-index: 7000;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            backdrop-filter: blur(20px);
        }
        
        .loading-overlay.active {
            display: flex;
        }
        
        .spinner {
            width: 120px;
            height: 120px;
            border: 10px solid rgba(255, 255, 255, 0.1);
            border-top: 10px solid #33CCFF;
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
            margin-bottom: 50px;
            box-shadow: 
                0 0 50px rgba(51, 204, 255, 0.5),
                inset 0 0 30px rgba(51, 204, 255, 0.2);
        }
        
        .loading-text {
            color: #33CCFF;
            font-size: 2.2rem;
            text-align: center;
            letter-spacing: 4px;
            font-weight: 300;
            text-shadow: 0 0 30px rgba(51, 204, 255, 0.7);
        }
        
        /* ========== Âä®ÁîªÂÆö‰πâ ========== */
        @keyframes starTwinkle {
            0%, 100% { 
                opacity: var(--min-opacity); 
                transform: scale(1); 
            }
            50% { 
                opacity: var(--max-opacity); 
                transform: scale(1.3); 
            }
        }
        
        @keyframes shootStar {
            0% {
                transform: translateX(-100px) translateY(-100px) rotate(var(--angle));
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            100% {
                transform: translateX(calc(100vw + 100px)) translateY(calc(100vh + 100px)) rotate(var(--angle));
                opacity: 0;
            }
        }
        
        @keyframes overlayEntrance {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes cardFloat {
            0%, 100% { 
                transform: translateY(0) rotate(0deg); 
            }
            33% { 
                transform: translateY(-30px) rotate(0.5deg); 
            }
            66% { 
                transform: translateY(20px) rotate(-0.5deg); 
            }
        }
        
        @keyframes gradientBorder {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }
        
        @keyframes yearGlow {
            0%, 100% { 
                text-shadow: 
                    0 0 60px rgba(255, 51, 102, 0.5),
                    0 0 120px rgba(51, 204, 255, 0.4),
                    0 0 180px rgba(255, 204, 0, 0.3);
            }
            50% { 
                text-shadow: 
                    0 0 100px rgba(255, 51, 102, 0.8),
                    0 0 200px rgba(51, 204, 255, 0.6),
                    0 0 300px rgba(255, 204, 0, 0.5),
                    0 0 400px rgba(0, 204, 136, 0.4);
            }
        }
        
        @keyframes fireworkSpin {
            0% { transform: translateY(-50%) rotate(0deg); }
            100% { transform: translateY(-50%) rotate(360deg); }
        }
        
        @keyframes clockTick {
            0%, 100% { transform: translateY(-50%) scale(1); }
            50% { transform: translateY(-50%) scale(1.2); }
        }
        
        @keyframes fireworkExplode {
            0% {
                transform: translate(var(--start-x), var(--start-y)) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
                transform: translate(var(--start-x), var(--start-y)) scale(1.3);
            }
            100% {
                transform: translate(var(--end-x), var(--end-y)) scale(0.2);
                opacity: 0;
            }
        }
        
        @keyframes envelopeFloat {
            0%, 100% { 
                transform: translateX(-50%) translateY(0) scale(1); 
            }
            50% { 
                transform: translateX(-50%) translateY(-25px) scale(1.12); 
            }
        }
        
        @keyframes hintPulse {
            0%, 100% { 
                opacity: 0.8; 
                text-shadow: 
                    0 0 25px rgba(255, 204, 0, 0.7),
                    0 0 50px rgba(255, 204, 0, 0.4);
            }
            50% { 
                opacity: 1; 
                text-shadow: 
                    0 0 40px rgba(255, 204, 0, 0.9),
                    0 0 80px rgba(255, 204, 0, 0.6),
                    0 0 120px rgba(255, 204, 0, 0.3);
            }
        }
        
        @keyframes giftFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-15px) rotate(-10deg); }
            75% { transform: translateY(-10px) rotate(10deg); }
        }
        
        @keyframes overlayFadeIn {
            from { 
                opacity: 0; 
                backdrop-filter: blur(0);
            }
            to { 
                opacity: 1; 
                backdrop-filter: blur(10px);
            }
        }
        
        @keyframes envelopeShake {
            0%, 100% { transform: translateY(-50%) rotate(0deg); }
            25% { transform: translateY(-50%) rotate(5deg); }
            75% { transform: translateY(-50%) rotate(-5deg); }
        }
        
        @keyframes confettiFloat {
            0%, 100% { transform: translateY(-50%) rotate(0deg); }
            50% { transform: translateY(-60%) rotate(180deg); }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ========== ÂìçÂ∫îÂºèËÆæËÆ° ========== */
        @media (max-width: 1600px) {
            .year-display { font-size: 10rem; }
            .countdown-value { font-size: 6rem; }
            .countdown-title { font-size: 3.2rem; }
        }
        
        @media (max-width: 1200px) {
            .year-display { font-size: 8rem; letter-spacing: 12px; }
            .countdown-grid { grid-template-columns: repeat(2, 1fr); gap: 35px; }
            .countdown-value { font-size: 5.5rem; }
            .countdown-item { padding: 60px 35px; }
            .holiday-grid { grid-template-columns: repeat(2, 1fr); }
        }
        
        @media (max-width: 992px) {
            .year-display { 
                font-size: 6.5rem; 
                letter-spacing: 8px; 
            }
            .year-display::before,
            .year-display::after {
                font-size: 3rem;
            }
            .year-display::before { left: -50px; }
            .year-display::after { right: -50px; }
            
            .countdown-prompt { font-size: 2rem; }
            .countdown-title { 
                font-size: 2.8rem; 
                margin-bottom: 60px; 
            }
            .countdown-title::before,
            .countdown-title::after {
                font-size: 2.5rem;
            }
            .countdown-title::before { left: -50px; }
            .countdown-title::after { right: -50px; }
            
            .welcome-card { padding: 70px 50px; }
            .welcome-title { font-size: 4rem; }
            
            .letter-container { padding: 70px 60px; }
            .calendar-container { padding: 70px 50px; }
            .admin-container { padding: 70px 50px; }
        }
        
        @media (max-width: 768px) {
            .year-display { 
                font-size: 5rem; 
                letter-spacing: 6px; 
            }
            .countdown-grid { 
                grid-template-columns: 1fr; 
                gap: 30px; 
                max-width: 500px;
                margin: 0 auto;
            }
            .countdown-value { font-size: 5rem; }
            .countdown-item { padding: 50px 30px; }
            
            .welcome-card { 
                padding: 60px 40px; 
                border-radius: 30px;
            }
            .welcome-title { font-size: 3.2rem; }
            .form-input { padding: 22px 25px; }
            
            .btn { 
                padding: 25px 60px; 
                font-size: 1.4rem; 
            }
            .btn-large { 
                padding: 30px 70px; 
                font-size: 1.6rem; 
            }
            
            .social-links {
                bottom: 30px;
                right: 30px;
            }
            .social-btn {
                width: 70px;
                height: 70px;
                font-size: 1.8rem;
            }
            
            .holiday-grid { 
                grid-template-columns: 1fr; 
                gap: 30px; 
            }
            .holiday-card { padding: 40px 30px; }
            
            .letter-container { 
                padding: 60px 40px; 
                border-width: 15px;
            }
            .letter-header { font-size: 2.5rem; }
            .letter-content { 
                font-size: 1.6rem; 
                padding: 40px; 
            }
            
            .calendar-container { padding: 60px 40px; }
            .calendar-title { font-size: 2.8rem; }
            
            .notification {
                top: 30px;
                right: 30px;
                padding: 25px 35px;
                max-width: 400px;
            }
            
            .envelope-hint { font-size: 1.7rem; }
            .envelope-section { max-width: 90%; }
        }
        
        @media (max-width: 576px) {
            .year-display { 
                font-size: 3.8rem; 
                letter-spacing: 4px; 
            }
            .year-display::before,
            .year-display::after {
                display: none;
            }
            
            .countdown-prompt { 
                font-size: 1.6rem; 
                letter-spacing: 2px;
            }
            .countdown-title { 
                font-size: 2.2rem; 
                letter-spacing: 3px;
            }
            .countdown-title::before,
            .countdown-title::after {
                display: none;
            }
            
            .welcome-card { 
                padding: 50px 30px; 
                border-radius: 25px;
            }
            .welcome-title { font-size: 2.5rem; }
            .welcome-subtitle { font-size: 1.4rem; }
            .form-label { font-size: 1.2rem; }
            .form-input { 
                padding: 20px; 
                font-size: 1.2rem; 
            }
            
            .btn { 
                padding: 20px 45px; 
                font-size: 1.2rem;
                gap: 15px;
            }
            .btn-large { 
                padding: 25px 55px; 
                font-size: 1.4rem;
            }
            
            .main-header { padding: 60px 20px 40px; }
            .countdown-container { 
                padding: 50px 30px; 
                border-radius: 30px;
            }
            
            .letter-container { 
                padding: 50px 30px; 
                border-width: 12px;
                border-radius: 30px;
            }
            .letter-header { 
                font-size: 2rem; 
                padding-bottom: 30px;
            }
            .letter-content { 
                font-size: 1.4rem; 
                padding: 30px; 
                line-height: 2;
            }
            
            .calendar-container { 
                padding: 50px 30px; 
                border-radius: 30px;
            }
            .calendar-title { 
                font-size: 2.2rem; 
                margin-bottom: 50px;
            }
            .calendar-title::before,
            .calendar-title::after {
                display: none;
            }
            
            .social-links {
                bottom: 20px;
                right: 20px;
                gap: 20px;
            }
            .social-btn {
                width: 60px;
                height: 60px;
                font-size: 1.6rem;
            }
            
            .notification {
                top: 20px;
                right: 20px;
                left: 20px;
                max-width: none;
                padding: 20px 25px;
                font-size: 1.2rem;
            }
            
            .envelope-hint { 
                font-size: 1.4rem; 
                flex-direction: column;
                gap: 10px;
            }
            .envelope-section { 
                padding: 0 20px; 
                bottom: 20vh;
            }
            
            .container { padding: 15px; }
            .main-container { padding: 20px 15px 80px; }
        }
        
        @media (max-width: 380px) {
            .year-display { font-size: 3.2rem; }
            .countdown-value { font-size: 4rem; }
            .countdown-label { font-size: 1.5rem; }
            .countdown-item { padding: 40px 25px; }
            
            .welcome-title { font-size: 2.2rem; }
            .welcome-card { padding: 40px 25px; }
            
            .holiday-card { padding: 35px 25px; }
            .holiday-card-title { font-size: 1.8rem; }
            .holiday-card-date { font-size: 1.3rem; }
            
            .btn { padding: 18px 35px; }
            .btn-large { padding: 22px 45px; }
        }
        
        /* ========== ÊâìÂç∞Ê†∑Âºè ========== */
        @media print {
            .welcome-overlay,
            .social-links,
            .fireworks-overlay,
            .particle-text-container,
            .envelope-section,
            .letter-overlay,
            .calendar-overlay,
            .admin-overlay,
            .loading-overlay,
            .notification,
            .btn,
            .stars,
            #particles-js {
                display: none !important;
            }
            
            body {
                background: white !important;
                color: black !important;
            }
            
            .main-content.active {
                opacity: 1 !important;
                transform: none !important;
            }
            
            .countdown-container,
            .calendar-container {
                box-shadow: none !important;
                border: 1px solid #ccc !important;
                background: white !important;
                color: black !important;
            }
        }
    </style>
</head>
<body>
    <!-- ÊòüÁ©∫ËÉåÊôØ -->
    <div class="universe-container" id="universe"></div>
    
    <!-- Á≤íÂ≠êËÉåÊôØ -->
    <div id="particles-js"></div>
    
    <!-- ÁÉüËä±ÁâπÊïàÂ±Ç -->
    <div class="fireworks-overlay" id="fireworksOverlay"></div>
    
    <!-- Á≤íÂ≠êÊñáÂ≠óÂÆπÂô® -->
    <div class="particle-text-container" id="particleTextContainer">
        <canvas id="particle-canvas"></canvas>
    </div>
    
    <!-- ‰ø°Â∞ÅÊåâÈíÆÂå∫Âüü -->
    <div class="envelope-section" id="envelopeSection">
        <div class="envelope-hint">
            <i class="fas fa-gift"></i>
            <span>ÁÇπÂáªÊü•ÁúãÊÇ®ÁöÑ‰∏ìÂ±ûËäÇÊó•Á•ùÁ¶è</span>
        </div>
        <button class="btn btn-large" id="envelopeBtn">
            <i class="fas fa-envelope-open-text"></i>
            ÂºÄÂêØËäÇÊó•Á•ùÁ¶è
        </button>
    </div>
    
    <!-- Âä†ËΩΩÂä®Áîª -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <div class="loading-text" id="loadingText">AIÊ≠£Âú®‰∏∫ÊÇ®Âàõ‰ΩúËäÇÊó•Á•ùÁ¶è...</div>
    </div>
    
    <!-- Ê¨¢ËøéÁïåÈù¢ -->
    <div class="welcome-overlay" id="welcomeOverlay">
        <div class="welcome-card">
            <h1 class="welcome-title">üéâ Êô∫ËÉΩËäÇÊó•ÂÄíËÆ°Êó∂Á≥ªÁªü üéâ</h1>
            <p class="welcome-subtitle">ÂºÄÂêØÊÇ®ÁöÑ‰∏ìÂ±ûËäÇÊó•ÊóÖÁ®ã</p>
            
            <form id="userForm">
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-user"></i>
                        ÊÇ®ÁöÑÂßìÂêç
                    </label>
                    <input type="text" id="userName" class="form-input" 
                           placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÁúüÂÆûÂßìÂêç" required 
                           autocomplete="name">
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-birthday-cake"></i>
                        ÊÇ®ÁöÑÂπ¥ÈæÑ
                    </label>
                    <input type="number" id="userAge" class="form-input" 
                           placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÂπ¥ÈæÑÔºà1-120Ôºâ" 
                           min="1" max="120" required
                           autocomplete="off">
                </div>
                
                <button type="submit" class="btn btn-large" style="margin-top: 30px;">
                    <i class="fas fa-rocket"></i>
                    ÂºÄÂêØÊô∫ËÉΩÂÄíËÆ°Êó∂
                </button>
            </form>
        </div>
    </div>
    
    <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü -->
    <div class="main-container">
        <div class="main-content" id="mainContent">
            <!-- Â§¥ÈÉ®Âå∫Âüü -->
            <header class="main-header">
                <div class="year-display" id="yearDisplay">2025</div>
                <p class="countdown-prompt">
                    Ë∑ùÁ¶ª <span id="nextHolidayName">ÂÖÉÊó¶</span> ËøòÊúâ
                </p>
            </header>
            
            <!-- ÂÄíËÆ°Êó∂Âå∫Âüü -->
            <section class="countdown-section">
                <div class="countdown-container">
                    <h2 class="countdown-title">ËäÇÊó•ÂÄíËÆ°Êó∂</h2>
                    
                    <div class="countdown-grid" id="countdownGrid">
                        <div class="countdown-item">
                            <div class="countdown-value" id="days">00</div>
                            <div class="countdown-label">Â§©</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="hours">00</div>
                            <div class="countdown-label">Êó∂</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="minutes">00</div>
                            <div class="countdown-label">ÂàÜ</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="seconds">00</div>
                            <div class="countdown-label">Áßí</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Êñ∞Âπ¥Ë¥∫Âç° -->
    <div class="letter-overlay" id="letterOverlay">
        <div class="letter-container" id="letterContainer">
            <div class="letter-header">
                Ëá¥Ôºö<span id="letterRecipient">‰∫≤Áà±ÁöÑÊúãÂèã</span>
                <span id="letterAge" style="font-size: 1.6rem; color: #888; margin-left: 15px;"></span>
            </div>
            <div class="letter-content" id="letterContent">
                <!-- AIÁîüÊàêÁöÑËäÇÊó•Á•ùÁ¶è‰ºöÊòæÁ§∫Âú®ËøôÈáå -->
            </div>
            <div style="text-align: center; margin-top: 50px;">
                <button class="btn btn-large" id="calendarBtn">
                    <i class="fas fa-calendar-alt"></i>
                    Êü•ÁúãÂÖ®Âπ¥ËäÇÊó•Êó•ÂéÜ
                </button>
            </div>
        </div>
    </div>
    
    <!-- ËäÇÊó•Êó•ÂéÜ -->
    <div class="calendar-overlay" id="calendarOverlay">
        <div class="calendar-container">
            <h2 class="calendar-title">üéä ÂÖ®Âπ¥ÈáçË¶ÅËäÇÊó•Êó•ÂéÜ üéä</h2>
            <div class="holiday-grid" id="holidayGrid">
                <!-- ËäÇÊó•Âç°Áâá‰ºöÂä®ÊÄÅÁîüÊàê -->
            </div>
            <div style="text-align: center; margin-top: 60px;">
                <button class="btn btn-large" id="backToMainBtn">
                    <i class="fas fa-home"></i>
                    ËøîÂõû‰∏ªÈ°µÁªßÁª≠ÂÄíËÆ°Êó∂
                </button>
            </div>
        </div>
    </div>
    
    <!-- Á§æ‰∫§ÈìæÊé• -->
    <div class="social-links">
        <a href="https://qm.qq.com/q/DuvNB5xeqm" target="_blank" class="social-btn" title="Âä†ÂÖ•QQÁæ§">
            <i class="fab fa-qq"></i>
        </a>
        <a href="mailto:3530388417@qq.com" class="social-btn" title="ËÅîÁ≥ªÂºÄÂèëËÄÖ">
            <i class="fas fa-envelope"></i>
        </a>
    </div>
    
    <!-- ÈÄöÁü• -->
    <div class="notification" id="notification">
        <i class="fas fa-info-circle"></i>
        <span id="notificationText">ÈÄöÁü•Ê∂àÊÅØ</span>
    </div>
    
    <!-- Èü≥È¢ëÂÖÉÁ¥† -->
    <audio id="celebrationAudio" preload="auto">
        <source src="https://assets.mixkit.co/music/preview/mixkit-happy-new-year-2023-1134.mp3" type="audio/mp3">
    </audio>

    <script>
        // Êô∫ËÉΩËäÇÊó•ÂÄíËÆ°Êó∂Á≥ªÁªü - ÂÆåÊï¥Áâà
        class CompleteHolidayCountdown {
            constructor() {
                // ÂàùÂßãÂåñÊâÄÊúâDOMÂÖÉÁ¥†
                this.initializeElements();
                
                // Áä∂ÊÄÅÂèòÈáè
                this.currentUser = null;
                this.currentHoliday = null;
                this.countdownInterval = null;
                this.isCelebrating = false;
                this.audioPlaying = false;
                this.particleSystem = null;
                this.fireworkActive = false;
                this.currentYear = new Date().getFullYear();
                
                // ËäÇÊó•Êï∞ÊçÆ
                this.holidays = [];
                this.holidayColors = {
                    'ÂÖÉÊó¶': '#FF3366',
                    'Êò•ËäÇ': '#FFCC00',
                    'Ê∏ÖÊòéËäÇ': '#00CC88',
                    'Âä≥Âä®ËäÇ': '#33CCFF',
                    'Á´ØÂçàËäÇ': '#9966FF',
                    '‰∏≠ÁßãËäÇ': '#FF9900',
                    'ÂõΩÂ∫ÜËäÇ': '#FF3333',
                    'ÊÉÖ‰∫∫ËäÇ': '#FF6699',
                    'ÂÖÉÂÆµËäÇ': '#FF9966',
                    'ÈáçÈò≥ËäÇ': '#9966FF'
                };
                
                // ÂàùÂßãÂåñÁ≥ªÁªü
                this.init();
            }
            
            initializeElements() {
                // ÂÄíËÆ°Êó∂ÊòæÁ§∫ÂÖÉÁ¥†
                this.daysEl = document.getElementById('days');
                this.hoursEl = document.getElementById('hours');
                this.minutesEl = document.getElementById('minutes');
                this.secondsEl = document.getElementById('seconds');
                this.yearDisplayEl = document.getElementById('yearDisplay');
                this.holidayNameEl = document.getElementById('nextHolidayName');
                
                // Ê¨¢ËøéÁïåÈù¢ÂÖÉÁ¥†
                this.welcomeOverlay = document.getElementById('welcomeOverlay');
                this.userForm = document.getElementById('userForm');
                this.userNameInput = document.getElementById('userName');
                this.userAgeInput = document.getElementById('userAge');
                this.mainContent = document.getElementById('mainContent');
                
                // ËäÇÊó•‰ø°ÊÅØÂÖÉÁ¥†
                this.letterRecipientEl = document.getElementById('letterRecipient');
                this.letterAgeEl = document.getElementById('letterAge');
                this.letterContentEl = document.getElementById('letterContent');
                
                // ÁâπÊïàÂÖÉÁ¥†
                this.fireworksOverlay = document.getElementById('fireworksOverlay');
                this.particleTextContainer = document.getElementById('particleTextContainer');
                this.envelopeSection = document.getElementById('envelopeSection');
                this.letterOverlay = document.getElementById('letterOverlay');
                this.letterContainer = document.getElementById('letterContainer');
                this.calendarOverlay = document.getElementById('calendarOverlay');
                this.holidayGrid = document.getElementById('holidayGrid');
                
                // ÊåâÈíÆÂÖÉÁ¥†
                this.envelopeBtn = document.getElementById('envelopeBtn');
                this.calendarBtn = document.getElementById('calendarBtn');
                this.backToMainBtn = document.getElementById('backToMainBtn');
                
                // Èü≥È¢ëÂÖÉÁ¥†
                this.celebrationAudio = document.getElementById('celebrationAudio');
                
                // ÈÄöÁü•ÂÖÉÁ¥†
                this.notification = document.getElementById('notification');
                this.notificationText = document.getElementById('notificationText');
                
                // Âä†ËΩΩÂÖÉÁ¥†
                this.loadingOverlay = document.getElementById('loadingOverlay');
                this.loadingText = document.getElementById('loadingText');
                
                // ÂÆáÂÆôËÉåÊôØ
                this.universe = document.getElementById('universe');
            }
            
            init() {
                this.createUniverse();
                this.initParticles();
                this.setupHolidayData();
                this.setupEventListeners();
                this.checkSavedUser();
                this.prepareAudio();
                
                // È¢ÑÂä†ËΩΩÁâπÊïà
                setTimeout(() => this.preloadEffects(), 1000);
            }
            
            createUniverse() {
                // ÂàõÂª∫Êòü‰∫ë
                for (let i = 0; i < 5; i++) {
                    const nebula = document.createElement('div');
                    nebula.className = 'nebula';
                    nebula.style.width = `${Math.random() * 400 + 200}px`;
                    nebula.style.height = nebula.style.width;
                    nebula.style.left = `${Math.random() * 100}%`;
                    nebula.style.top = `${Math.random() * 100}%`;
                    nebula.style.background = `radial-gradient(circle, 
                        hsl(${Math.random() * 360}, 70%, 60%) 0%, 
                        transparent 70%)`;
                    nebula.style.opacity = Math.random() * 0.15 + 0.05;
                    this.universe.appendChild(nebula);
                }
                
                // ÂàõÂª∫ÊòüÊòü
                const starCount = 300;
                for (let i = 0; i < starCount; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`;
                    
                    const size = Math.random() * 3 + 1;
                    star.style.width = `${size}px`;
                    star.style.height = `${size}px`;
                    
                    star.style.setProperty('--duration', `${Math.random() * 4 + 2}s`);
                    star.style.setProperty('--min-opacity', `${Math.random() * 0.3 + 0.1}`);
                    star.style.setProperty('--max-opacity', `${Math.random() * 0.5 + 0.3}`);
                    star.style.setProperty('--glow', `${Math.random() * 10 + 5}px`);
                    star.style.setProperty('--glow-opacity', `${Math.random() * 0.5 + 0.1}`);
                    
                    this.universe.appendChild(star);
                }
                
                // ÂàõÂª∫ÊµÅÊòü
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        this.createShootingStar();
                    }, i * 2000);
                }
                
                // ÂÆöÊúüÂàõÂª∫ÊµÅÊòü
                setInterval(() => {
                    if (Math.random() > 0.7) {
                        this.createShootingStar();
                    }
                }, 5000);
            }
            
            createShootingStar() {
                const shootingStar = document.createElement('div');
                shootingStar.className = 'shooting-star';
                shootingStar.style.left = `${Math.random() * 20}%`;
                shootingStar.style.top = `${Math.random() * 20}%`;
                shootingStar.style.setProperty('--angle', `${Math.random() * 30 + 15}deg`);
                shootingStar.style.setProperty('--speed', `${Math.random() * 2 + 1}s`);
                this.universe.appendChild(shootingStar);
                
                setTimeout(() => {
                    shootingStar.remove();
                }, 3000);
            }
            
            initParticles() {
                particlesJS('particles-js', {
                    particles: {
                        number: { 
                            value: 120, 
                            density: { 
                                enable: true, 
                                value_area: 1000 
                            } 
                        },
                        color: { 
                            value: ["#FF3366", "#33CCFF", "#FFCC00", "#00CC88", "#9966FF"] 
                        },
                        shape: { 
                            type: "circle",
                            stroke: { width: 0, color: "#000000" }
                        },
                        opacity: { 
                            value: 0.4, 
                            random: true, 
                            anim: { 
                                enable: true, 
                                speed: 1, 
                                opacity_min: 0.1 
                            } 
                        },
                        size: { 
                            value: 2, 
                            random: true, 
                            anim: { 
                                enable: true, 
                                speed: 2, 
                                size_min: 0.5 
                            } 
                        },
                        line_linked: {
                            enable: true,
                            distance: 150,
                            color: "#ffffff",
                            opacity: 0.2,
                            width: 1
                        },
                        move: {
                            enable: true,
                            speed: 1.5,
                            direction: "none",
                            random: true,
                            straight: false,
                            out_mode: "out",
                            bounce: false,
                            attract: { enable: false, rotateX: 600, rotateY: 1200 }
                        }
                    },
                    interactivity: {
                        detect_on: "canvas",
                        events: {
                            onhover: { enable: true, mode: "repulse" },
                            onclick: { enable: true, mode: "push" },
                            resize: true
                        }
                    }
                });
            }
            
            setupHolidayData() {
                // ÂÆåÊï¥ÁöÑËäÇÊó•Êï∞ÊçÆ
                this.holidays = [
                    // ÂÖ¨ÂéÜËäÇÊó•
                    {
                        name: "ÂÖÉÊó¶",
                        type: "solar",
                        month: 1,
                        day: 1,
                        icon: "üéÜ",
                        desc: "Êñ∞ÁöÑ‰∏ÄÂπ¥ÂºÄÂßãÔºåÊîæÂÅá3Â§©Ôºå‰∏éÂÆ∂‰∫∫ÊúãÂèãÂÖ±Â∫¶ÁæéÂ•ΩÊó∂ÂÖâ",
                        duration: "ÊîæÂÅá3Â§©",
                        color: "#FF3366",
                        getDate: function(year) {
                            return new Date(year, 0, 1);
                        }
                    },
                    {
                        name: "ÊÉÖ‰∫∫ËäÇ",
                        type: "solar",
                        month: 2,
                        day: 14,
                        icon: "üíñ",
                        desc: "Ë°®ËææÁà±ÊÑèÁöÑÊµ™Êº´Êó•Â≠êÔºå‰∏éÂøÉÁà±ÁöÑ‰∫∫ÂÖ±‰∫´ÁîúËúúÊó∂ÂÖâ",
                        duration: "1Â§©",
                        color: "#FF6699",
                        getDate: function(year) {
                            return new Date(year, 1, 14);
                        }
                    },
                    {
                        name: "Ê∏ÖÊòéËäÇ",
                        type: "solar",
                        month: 4,
                        day: 4,
                        icon: "üåø",
                        desc: "Á•≠Á•ñÊâ´Â¢ìÁöÑ‰º†ÁªüËäÇÊó•Ôºå‰πüÊòØË∏èÈùíËµèÊò•ÁöÑÂ•ΩÊó∂ËäÇ",
                        duration: "ÊîæÂÅá3Â§©",
                        color: "#00CC88",
                        getDate: function(year) {
                            return new Date(year, 3, 4);
                        }
                    },
                    {
                        name: "Âä≥Âä®ËäÇ",
                        type: "solar",
                        month: 5,
                        day: 1,
                        icon: "üë∑",
                        desc: "ÂêëÂä≥Âä®ËÄÖËá¥Êï¨Ôºå‰∫´Âèó5Â§©Â∞èÈïøÂÅáÔºåÊîæÊùæË∫´ÂøÉ",
                        duration: "ÊîæÂÅá5Â§©",
                        color: "#33CCFF",
                        getDate: function(year) {
                            return new Date(year, 4, 1);
                        }
                    },
                    {
                        name: "ÂõΩÂ∫ÜËäÇ",
                        type: "solar",
                        month: 10,
                        day: 1,
                        icon: "üá®üá≥",
                        desc: "Â∫ÜÁ•ùÊñ∞‰∏≠ÂõΩÊàêÁ´ãÔºå‰∫´Âèó7Â§©ÈªÑÈáëÂë®ÂÅáÊúü",
                        duration: "ÊîæÂÅá7Â§©",
                        color: "#FF3333",
                        getDate: function(year) {
                            return new Date(year, 9, 1);
                        }
                    },
                    
                    // ÂÜúÂéÜËäÇÊó•
                    {
                        name: "Êò•ËäÇ",
                        type: "lunar",
                        lunarMonth: 1,
                        lunarDay: 1,
                        icon: "üéâ",
                        desc: "ÂÜúÂéÜÊñ∞Âπ¥Ôºå‰∏≠ÂõΩÊúÄÈáçË¶ÅÁöÑ‰º†ÁªüËäÇÊó•ÔºåÈòñÂÆ∂Âõ¢ÂúÜÁöÑÊó•Â≠ê",
                        duration: "ÊîæÂÅá7Â§©",
                        color: "#FFCC00",
                        getDate: function(year) {
                            // Êò•ËäÇÊó•ÊúüÔºà2025-2027ÂáÜÁ°ÆÊï∞ÊçÆÔºâ
                            const springDates = {
                                2025: new Date(2025, 0, 29),
                                2026: new Date(2026, 1, 17),
                                2027: new Date(2027, 1, 6),
                                2028: new Date(2028, 1, 25),
                                2029: new Date(2029, 1, 13)
                            };
                            return springDates[year] || new Date(year, 1, Math.floor(Math.random() * 15) + 8);
                        }
                    },
                    {
                        name: "ÂÖÉÂÆµËäÇ",
                        type: "lunar",
                        lunarMonth: 1,
                        lunarDay: 15,
                        icon: "üèÆ",
                        desc: "Êò•ËäÇÂêéÁöÑÁ¨¨‰∏Ä‰∏™ÊúàÂúÜ‰πãÂ§úÔºåËµèËä±ÁÅØ„ÄÅÂêÉÂÖÉÂÆµ",
                        duration: "1Â§©",
                        color: "#FF9966",
                        getDate: function(year) {
                            // ÂÖÉÂÆµËäÇÂú®Êò•ËäÇÂêé15Â§©
                            const holiday = this.holidays.find(h => h.name === "Êò•ËäÇ");
                            const springDate = holiday.getDate(year);
                            return new Date(springDate.getTime() + 14 * 24 * 60 * 60 * 1000);
                        }.bind(this)
                    },
                    {
                        name: "Á´ØÂçàËäÇ",
                        type: "lunar",
                        lunarMonth: 5,
                        lunarDay: 5,
                        icon: "üéè",
                        desc: "Á∫™ÂøµÂ±àÂéüÁöÑ‰º†ÁªüËäÇÊó•ÔºåÂêÉÁ≤ΩÂ≠ê„ÄÅËµõÈæôËàü",
                        duration: "ÊîæÂÅá3Â§©",
                        color: "#9966FF",
                        getDate: function(year) {
                            const dates = {
                                2025: new Date(2025, 4, 31),
                                2026: new Date(2026, 5, 20),
                                2027: new Date(2027, 5, 9),
                                2028: new Date(2028, 5, 28),
                                2029: new Date(2029, 5, 17)
                            };
                            return dates[year] || new Date(year, 5, Math.floor(Math.random() * 10) + 10);
                        }
                    },
                    {
                        name: "‰∏≠ÁßãËäÇ",
                        type: "lunar",
                        lunarMonth: 8,
                        lunarDay: 15,
                        icon: "üåï",
                        desc: "Âõ¢ÂúÜ‰Ω≥ËäÇÔºåËµèÊúà„ÄÅÂêÉÊúàÈ•º„ÄÅÂÖ±‰∫´Â§©‰º¶‰πã‰πê",
                        duration: "ÊîæÂÅá3Â§©",
                        color: "#FF9900",
                        getDate: function(year) {
                            const dates = {
                                2025: new Date(2025, 9, 6),
                                2026: new Date(2026, 8, 25),
                                2027: new Date(2027, 8, 15),
                                2028: new Date(2028, 9, 3),
                                2029: new Date(2029, 9, 22)
                            };
                            return dates[year] || new Date(year, 9, Math.floor(Math.random() * 10) + 1);
                        }
                    },
                    {
                        name: "ÈáçÈò≥ËäÇ",
                        type: "lunar",
                        lunarMonth: 9,
                        lunarDay: 9,
                        icon: "‚õ∞Ô∏è",
                        desc: "Êï¨ËÄÅÁà±ËÄÅÁöÑ‰º†ÁªüËäÇÊó•ÔºåÁôªÈ´òÊúõËøúÔºåËµèËèäÈ•ÆÈÖí",
                        duration: "1Â§©",
                        color: "#9966FF",
                        getDate: function(year) {
                            // ÈáçÈò≥ËäÇÂú®‰∏≠ÁßãËäÇÂêéÁ∫¶‰∏Ä‰∏™Êúà
                            const holiday = this.holidays.find(h => h.name === "‰∏≠ÁßãËäÇ");
                            const midAutumnDate = holiday.getDate(year);
                            return new Date(midAutumnDate.getTime() + 30 * 24 * 60 * 60 * 1000);
                        }.bind(this)
                    }
                ];
            }
            
            setupEventListeners() {
                // Ë°®ÂçïÊèê‰∫§
                this.userForm.addEventListener('submit', (e) => this.handleUserSubmit(e));
                
                // ‰ø°Â∞ÅÊåâÈíÆ
                this.envelopeBtn.addEventListener('click', () => this.showLetter());
                
                // Êó•ÂéÜÊåâÈíÆ
                this.calendarBtn.addEventListener('click', () => this.showCalendar());
                
                // ËøîÂõû‰∏ªÈ°µÊåâÈíÆ
                this.backToMainBtn.addEventListener('click', () => this.backToMain());
                
                // Èü≥È¢ëÂêØÁî®
                document.addEventListener('click', () => this.enableAudio(), { once: true });
                
                // Á™óÂè£Â§ßÂ∞èÂèòÂåñ
                window.addEventListener('resize', () => this.handleResize());
            }
            
            handleUserSubmit(e) {
                e.preventDefault();
                
                const userName = this.userNameInput.value.trim();
                const userAge = parseInt(this.userAgeInput.value);
                
                if (!userName || userAge < 1 || userAge > 120) {
                    this.showNotification('ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÂßìÂêçÂíåÂπ¥ÈæÑÔºà1-120Â≤ÅÔºâ', 'error');
                    return;
                }
                
                this.currentUser = { 
                    name: userName, 
                    age: userAge,
                    joined: new Date().toISOString()
                };
                
                // ‰øùÂ≠òÁî®Êà∑‰ø°ÊÅØ
                localStorage.setItem('holidayUser', JSON.stringify(this.currentUser));
                
                // ÊòæÁ§∫Âä†ËΩΩÂä®Áîª
                this.showLoading('Ê≠£Âú®‰∏∫ÊÇ®ÂáÜÂ§áËäÇÊó•ÂÄíËÆ°Êó∂...');
                
                // Âª∂ËøüÂêéÊòæÁ§∫‰∏ªÁïåÈù¢
                setTimeout(() => {
                    this.hideLoading();
                    this.enterMainInterface();
                }, 1500);
            }
            
            enterMainInterface() {
                // ÈöêËóèÊ¨¢ËøéÁïåÈù¢
                this.welcomeOverlay.style.opacity = '0';
                setTimeout(() => {
                    this.welcomeOverlay.style.display = 'none';
                    
                    // ÊòæÁ§∫‰∏ªÂÜÖÂÆπ
                    this.mainContent.classList.add('active');
                    
                    // ÂºÄÂßãÂÄíËÆ°Êó∂
                    this.startCountdown();
                    
                    // ÊòæÁ§∫Ê¨¢ËøéÈÄöÁü•
                    this.showNotification(`Ê¨¢Ëøé${this.currentUser.name}ÔºÅÊô∫ËÉΩÂÄíËÆ°Êó∂Â∑≤ÂêØÂä®`, 'success');
                }, 500);
            }
            
            checkSavedUser() {
                const savedUser = localStorage.getItem('holidayUser');
                if (savedUser) {
                    try {
                        this.currentUser = JSON.parse(savedUser);
                        this.enterMainInterface();
                    } catch (e) {
                        console.log('Âä†ËΩΩ‰øùÂ≠òÁöÑÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•');
                    }
                }
            }
            
            startCountdown() {
                if (this.countdownInterval) {
                    clearInterval(this.countdownInterval);
                }
                
                this.updateHolidayInfo();
                this.updateCountdown();
                
                this.countdownInterval = setInterval(() => {
                    this.updateCountdown();
                }, 1000);
            }
            
            updateHolidayInfo() {
                this.currentHoliday = this.getNextHoliday();
                
                if (!this.currentHoliday) return;
                
                const date = this.currentHoliday.date;
                this.currentYear = date.getFullYear();
                
                // Êõ¥Êñ∞ÊòæÁ§∫
                this.yearDisplayEl.textContent = this.currentYear;
                this.holidayNameEl.textContent = this.currentHoliday.name;
                
                // Êõ¥Êñ∞Âπ¥‰ªΩÊòæÁ§∫ÁöÑÈ¢úËâ≤
                this.yearDisplayEl.style.background = `linear-gradient(45deg, 
                    ${this.holidayColors[this.currentHoliday.name] || '#FF3366'} 0%, 
                    #33CCFF 50%, 
                    #FFCC00 100%)`;
            }
            
            getNextHoliday() {
                const now = new Date();
                let nextHoliday = null;
                let nearestDate = null;
                
                // Ê£ÄÊü•Êú™Êù•‰∏§Âπ¥ÁöÑËäÇÊó•
                for (let year = now.getFullYear(); year <= now.getFullYear() + 2; year++) {
                    for (const holiday of this.holidays) {
                        try {
                            const holidayDate = holiday.getDate(year);
                            
                            // Â¶ÇÊûúËäÇÊó•Â∑≤ÁªèËøáÂéªÔºåË∑≥Ëøá
                            if (holidayDate < now && year === now.getFullYear()) {
                                continue;
                            }
                            
                            // ÊâæÂà∞ÊúÄËøëÁöÑËäÇÊó•
                            if (!nearestDate || holidayDate < nearestDate) {
                                nearestDate = holidayDate;
                                nextHoliday = {
                                    ...holiday,
                                    date: holidayDate,
                                    displayYear: year
                                };
                            }
                        } catch (error) {
                            console.warn(`Ëé∑ÂèñËäÇÊó•Êó•ÊúüÂ§±Ë¥•: ${holiday.name}`, error);
                        }
                    }
                    
                    // Â¶ÇÊûú‰ªäÂπ¥ÊâæÂà∞‰∫ÜËäÇÊó•ÔºåÂ∞±ÂÅúÊ≠¢
                    if (nextHoliday) break;
                }
                
                // Á°Æ‰øù‰∏ÄÂÆöÊúâËäÇÊó•
                if (!nextHoliday) {
                    const nextYear = now.getFullYear() + 1;
                    nextHoliday = {
                        name: "ÂÖÉÊó¶",
                        type: "solar",
                        date: new Date(nextYear, 0, 1),
                        desc: "Êñ∞ÁöÑ‰∏ÄÂπ¥ÂºÄÂßã",
                        color: "#FF3366",
                        displayYear: nextYear
                    };
                }
                
                return nextHoliday;
            }
            
            updateCountdown() {
                if (!this.currentHoliday) return;
                
                const now = new Date();
                const diff = this.currentHoliday.date - now;
                
                if (diff <= 0) {
                    // ËäÇÊó•Âà∞‰∫ÜÔºÅ
                    this.daysEl.textContent = '00';
                    this.hoursEl.textContent = '00';
                    this.minutesEl.textContent = '00';
                    this.secondsEl.textContent = '00';
                    
                    if (!this.isCelebrating) {
                        this.startCelebration();
                    }
                    return;
                }
                
                // ËÆ°ÁÆóÊó∂Èó¥Â∑Æ
                const totalSeconds = Math.floor(diff / 1000);
                const days = Math.floor(totalSeconds / 86400);
                const hours = Math.floor((totalSeconds % 86400) / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                const seconds = totalSeconds % 60;
                
                // Êõ¥Êñ∞ÊòæÁ§∫
                this.daysEl.textContent = days.toString().padStart(2, '0');
                this.hoursEl.textContent = hours.toString().padStart(2, '0');
                this.minutesEl.textContent = minutes.toString().padStart(2, '0');
                this.secondsEl.textContent = seconds.toString().padStart(2, '0');
                
                // ÂÄíËÆ°Êó∂ÊúÄÂêé30ÁßíÂáÜÂ§áÂ∫ÜÁ•ù
                if (days === 0 && hours === 0 && minutes === 0 && seconds <= 30) {
                    this.prepareCelebration();
                }
                
                // ÊØèÂ§©Êõ¥Êñ∞ËäÇÊó•‰ø°ÊÅØ
                if (seconds === 0 && minutes === 0 && hours === 0) {
                    this.updateHolidayInfo();
                }
            }
            
            prepareCelebration() {
                // È¢ÑÂä†ËΩΩÈü≥È¢ë
                if (!this.audioPlaying) {
                    this.celebrationAudio.play().then(() => {
                        this.celebrationAudio.pause();
                        this.celebrationAudio.currentTime = 0;
                    }).catch(() => {});
                }
            }
            
            startCelebration() {
                if (this.isCelebrating) return;
                
                this.isCelebrating = true;
                
                // Êí≠ÊîæÈü≥‰πê
                this.playCelebrationAudio();
                
                // ÊòæÁ§∫ÁÉüËä±
                this.showFireworks(8000);
                
                // ÊòæÁ§∫Á≤íÂ≠êÊñáÂ≠ó
                this.showParticleText();
                
                // ÊòæÁ§∫Â∫ÜÁ•ù‰ø°ÊÅØ
                this.yearDisplayEl.textContent = 'üéâ';
                this.holidayNameEl.textContent = `${this.currentHoliday.name}Âø´‰πêÔºÅ`;
                
                // ÊòæÁ§∫‰ø°Â∞ÅÊåâÈíÆ
                setTimeout(() => {
                    this.envelopeSection.classList.add('active');
                }, 3000);
                
                // 8ÁßíÂêéÈáçÁΩÆ
                setTimeout(() => {
                    this.isCelebrating = false;
                    this.startCountdown();
                }, 8000);
            }
            
            playCelebrationAudio() {
                if (this.audioPlaying) return;
                
                this.celebrationAudio.currentTime = 0;
                this.celebrationAudio.play().then(() => {
                    this.audioPlaying = true;
                }).catch(() => {
                    this.audioPlaying = false;
                });
                
                // 8ÁßíÂêéÂÅúÊ≠¢Èü≥‰πê
                setTimeout(() => {
                    this.celebrationAudio.pause();
                    this.celebrationAudio.currentTime = 0;
                    this.audioPlaying = false;
                }, 8000);
            }
            
            showFireworks(duration) {
                this.fireworksOverlay.classList.add('active');
                this.fireworkActive = true;
                
                // ÂàõÂª∫Â§ö‰∏™ÁÉüËä±
                const fireworkCount = 12;
                const colors = ['#FF3366', '#33CCFF', '#FFCC00', '#00CC88', '#9966FF', '#FF00FF'];
                
                for (let i = 0; i < fireworkCount; i++) {
                    setTimeout(() => {
                        this.createFirework(colors);
                    }, i * 300);
                }
                
                // ÊåÅÁª≠ÂàõÂª∫ÁÉüËä±
                const interval = setInterval(() => {
                    if (this.fireworkActive) {
                        this.createFirework(colors);
                    }
                }, 500);
                
                // ÂÅúÊ≠¢ÁÉüËä±
                setTimeout(() => {
                    clearInterval(interval);
                    this.fireworkActive = false;
                    setTimeout(() => {
                        this.fireworksOverlay.classList.remove('active');
                        this.fireworksOverlay.innerHTML = '';
                    }, 1500);
                }, duration);
            }
            
            createFirework(colors) {
                const particleCount = 60;
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight * 0.7;
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'firework-particle';
                    
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * 200 + 50;
                    const endX = Math.cos(angle) * distance;
                    const endY = Math.sin(angle) * distance;
                    const size = Math.random() * 6 + 2;
                    const duration = Math.random() * 0.8 + 0.8;
                    
                    particle.style.cssText = `
                        --start-x: 0px;
                        --start-y: 0px;
                        --end-x: ${endX}px;
                        --end-y: ${endY}px;
                        background: ${color};
                        left: ${x}px;
                        top: ${y}px;
                        width: ${size}px;
                        height: ${size}px;
                        animation-duration: ${duration}s;
                    `;
                    
                    this.fireworksOverlay.appendChild(particle);
                    
                    // ÁßªÈô§Âä®ÁîªÂÆåÊàêÁöÑÂÖÉÁ¥†
                    setTimeout(() => {
                        if (particle.parentNode === this.fireworksOverlay) {
                            particle.remove();
                        }
                    }, duration * 1000);
                }
            }
            
            showParticleText() {
                this.particleTextContainer.classList.add('active');
                
                // ÂàùÂßãÂåñÁ≤íÂ≠êÊñáÂ≠óÁ≥ªÁªü
                if (!this.particleSystem) {
                    this.initParticleTextSystem();
                }
                
                const currentYear = this.currentHoliday.displayYear;
                const nextYear = currentYear + 1;
                const userName = this.currentUser?.name || 'ÊúãÂèã';
                
                const texts = [
                    `ËæûÂéª${currentYear}ÔºåËøéÊé•${nextYear}`,
                    `Â∏åÊúõÂú®Êñ∞ÁöÑ‰∏ÄÂπ¥Èáå‰Ω†ËÉΩÊàê‰∏∫Êõ¥Â•ΩÁöÑËá™Â∑±`,
                    `Êàë‰ª¨ ${nextYear} Âπ¥ 1 Êúà 1 Êó•Èõ∂Êó∂ÂÜçËßÅ`
                ];
                
                // ÊòæÁ§∫Á≤íÂ≠êÊñáÂ≠ó
                setTimeout(() => {
                    this.particleSystem.setTexts(texts);
                }, 1000);
            }
            
            initParticleTextSystem() {
                // ÁÆÄÂåñÁöÑÁ≤íÂ≠êÊñáÂ≠óÁ≥ªÁªü
                const canvas = document.getElementById('particle-canvas');
                const ctx = canvas.getContext('2d');
                
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                
                this.particleSystem = {
                    particles: [],
                    texts: [],
                    currentTextIndex: 0,
                    isAnimating: false,
                    
                    setTexts: function(texts) {
                        this.texts = texts;
                        this.currentTextIndex = 0;
                        this.startAnimation();
                    },
                    
                    startAnimation: function() {
                        if (this.currentTextIndex >= this.texts.length) {
                            setTimeout(() => {
                                document.getElementById('envelopeSection').classList.add('active');
                            }, 2000);
                            return;
                        }
                        
                        this.isAnimating = true;
                        this.animate();
                    },
                    
                    animate: function() {
                        if (!this.isAnimating) return;
                        
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        
                        // ÁÆÄÂåñÁöÑÁ≤íÂ≠êÂä®Áîª
                        requestAnimationFrame(() => this.animate());
                    }
                };
                
                window.addEventListener('resize', () => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                });
            }
            
            showLetter() {
                this.hideEnvelope();
                
                // ÊòæÁ§∫Âä†ËΩΩÂä®Áîª
                this.showLoading('AIÊ≠£Âú®‰∏∫ÊÇ®ÁîüÊàêËäÇÊó•Á•ùÁ¶è...');
                
                // Ê®°ÊãüAIÁîüÊàêÁ•ùÁ¶è
                setTimeout(() => {
                    this.hideLoading();
                    
                    // Êõ¥Êñ∞Êî∂‰ª∂‰∫∫‰ø°ÊÅØ
                    this.letterRecipientEl.textContent = this.currentUser.name;
                    this.letterAgeEl.textContent = `${this.currentUser.age}Â≤Å`;
                    
                    // ÁîüÊàêÁ•ùÁ¶èËØ≠
                    this.generateBlessing();
                    
                    // ÊòæÁ§∫Ë¥∫Âç°
                    this.letterOverlay.classList.add('active');
                    setTimeout(() => {
                        this.letterContainer.classList.add('active');
                    }, 100);
                    
                    this.showNotification('ÊÇ®ÁöÑ‰∏ìÂ±ûËäÇÊó•Á•ùÁ¶èÂ∑≤ÁîüÊàê', 'success');
                }, 2000);
            }
            
            generateBlessing() {
                const templates = [
                    `‰∫≤Áà±ÁöÑ${this.currentUser.name}Ôºå${this.currentUser.age}Â≤ÅÁöÑ‰Ω†Ê≠£Â§ÑÂú®ÁæéÂ•ΩÁöÑÂπ¥Âçé„ÄÇÂú®Ëøô${this.currentHoliday.name}Âà∞Êù•‰πãÈôÖÔºåÊÑøÊ∏©ÊöñÁöÑÈò≥ÂÖâÁÖß‰∫Æ‰Ω†ÁöÑÂâçÁ®ãÔºåÊÑøÂíåÁÖ¶ÁöÑÊò•È£éÂêπÊï£‰Ω†ÁöÑÁÉ¶ÊÅº„ÄÇÊñ∞ÁöÑ‰∏ÄÂπ¥ÔºåÊÑø‰Ω†ÂøÉ‰∏≠ÊúâÁà±ÔºåÁúº‰∏≠ÊúâÂÖâÔºåËÑö‰∏ãÊúâË∑Ø„ÄÇÊÑø‰Ω†ÁöÑÊØè‰∏ÄÂ§©ÈÉΩÂÖÖÊª°Ê¨¢Á¨ëÔºåÊØè‰∏ÄÊ≠•ÈÉΩËµ∞ÂêëËæâÁÖå„ÄÇ${this.currentHoliday.name}Âø´‰πêÔºÅ`,
                    
                    `Ëá¥${this.currentUser.age}Â≤ÅÁöÑ${this.currentUser.name}Ôºö${this.currentHoliday.name}ÁöÑÈíüÂ£∞Âç≥Â∞ÜÊï≤ÂìçÔºåÊÑøËøôÈíüÂ£∞Â∏¶Ëµ∞ÊâÄÊúâ‰∏çÂ¶ÇÊÑèÔºåÂ∏¶Êù•Êó†ÈôêÂ•ΩËøê„ÄÇÊÑø‰Ω†ÂÉèÊò•Â§©ÁöÑËä±ÊúµËà¨ÁªΩÊîæÁæé‰∏ΩÔºåÂÉèÂ§èÊó•ÁöÑÈò≥ÂÖâËà¨ÁÉ≠ÊÉÖÂ•îÊîæÔºåÂÉèÁßãÂ§©ÁöÑÊûúÂÆûËà¨Á°ïÊûúÁ¥ØÁ¥ØÔºåÂÉèÂÜ¨Êó•ÁöÑÈõ™Ëä±Ëà¨Á∫ØÊ¥ÅÁæéÂ•Ω„ÄÇÊñ∞ÁöÑ‰∏ÄÂπ¥ÔºåÊÑø‰Ω†Ê¢¶ÊÉ≥ÊàêÁúüÔºå‰∏á‰∫ãÂ¶ÇÊÑèÔºÅ`,
                    
                    `${this.currentUser.name}Ôºå${this.currentUser.age}Â≤Å${this.currentHoliday.name}Âø´‰πêÔºÅÂú®ËøôËæûÊóßËøéÊñ∞ÁöÑÊó∂ÂàªÔºåÊÑø‰Ω†Âç∏‰∏ãËøáÂæÄÁöÑÁñ≤ÊÉ´ÔºåÊã•Êä±Â¥≠Êñ∞ÁöÑÂ∏åÊúõ„ÄÇÊÑø‰Ω†ÁöÑÁîüÊ¥ªÂ¶ÇËØóÂ¶ÇÁîªÔºåÊÑø‰Ω†ÁöÑÊú™Êù•Â¶ÇÊòüËæ∞Â§ßÊµ∑Ëà¨ÁíÄÁí®„ÄÇÊÑøÂÅ•Â∫∑Â∏∏‰º¥‰Ω†Â∑¶Âè≥ÔºåÊÑøÂø´‰πêÊ∞∏È©ª‰Ω†ÂøÉÈó¥„ÄÇËÆ©Êàë‰ª¨‰∏ÄËµ∑ËøéÊé•ÁæéÂ•ΩÁöÑ${this.currentHoliday.name}ÔºåÂºÄÂêØÂÖ®Êñ∞ÁöÑÊóÖÁ®ãÔºÅ`
                ];
                
                const randomTemplate = templates[Math.floor(Math.random() * templates.length)];
                this.letterContentEl.textContent = randomTemplate;
            }
            
            showCalendar() {
                // ÈöêËóèË¥∫Âç°
                this.letterContainer.classList.remove('active');
                setTimeout(() => {
                    this.letterOverlay.classList.remove('active');
                    
                    // ÊòæÁ§∫Êó•ÂéÜ
                    this.calendarOverlay.classList.add('active');
                    this.renderHolidayCalendar();
                }, 400);
            }
            
            renderHolidayCalendar() {
                this.holidayGrid.innerHTML = '';
                
                const now = new Date();
                const currentYear = now.getFullYear();
                
                // ÊòæÁ§∫‰ªäÂπ¥ÂíåÊòéÂπ¥ÁöÑËäÇÊó•
                for (let year = currentYear; year <= currentYear + 1; year++) {
                    this.holidays.forEach(holiday => {
                        try {
                            const holidayDate = holiday.getDate(year);
                            this.createHolidayCard(holiday, holidayDate);
                        } catch (error) {
                            console.warn(`ÂàõÂª∫ËäÇÊó•Âç°ÁâáÂ§±Ë¥•: ${holiday.name}`, error);
                        }
                    });
                }
            }
            
            createHolidayCard(holiday, date) {
                const card = document.createElement('div');
                card.className = 'holiday-card';
                card.style.setProperty('--holiday-color', holiday.color || '#FFCC00');
                
                const year = date.getFullYear();
                const month = date.getMonth() + 1;
                const day = date.getDate();
                const weekdays = ["Êó•", "‰∏Ä", "‰∫å", "‰∏â", "Âõõ", "‰∫î", "ÂÖ≠"];
                const weekday = weekdays[date.getDay()];
                
                // Ê£ÄÊü•ÊòØÂê¶ÊòØÂΩìÂâçÂÄíËÆ°Êó∂ÁöÑËäÇÊó•
                const isCurrent = this.currentHoliday && 
                                this.currentHoliday.name === holiday.name && 
                                date.getTime() === this.currentHoliday.date.getTime();
                
                if (isCurrent) {
                    card.style.borderColor = '#FFCC00';
                    card.style.boxShadow = '0 0 50px rgba(255, 204, 0, 0.5)';
                }
                
                card.innerHTML = `
                    <div class="holiday-card-icon">${holiday.icon}</div>
                    <h3 class="holiday-card-title">${holiday.name}</h3>
                    <div class="holiday-card-date">
                        <i class="far fa-calendar-alt"></i>
                        ${year}Âπ¥${month}Êúà${day}Êó•ÔºàÊòüÊúü${weekday}Ôºâ
                    </div>
                    <div class="holiday-card-desc">
                        ${holiday.desc}
                        <div style="margin-top: 15px; color: #FF9966; font-weight: 600;">
                            ${holiday.duration}
                        </div>
                    </div>
                `;
                
                this.holidayGrid.appendChild(card);
            }
            
            backToMain() {
                // ÈöêËóèÊó•ÂéÜ
                this.calendarOverlay.classList.remove('active');
                
                // ÊòæÁ§∫‰∏ªÂÜÖÂÆπ
                setTimeout(() => {
                    this.mainContent.classList.add('active');
                    this.startCountdown();
                    
                    this.showNotification('Â∑≤ËøîÂõû‰∏ªÈ°µÔºåÁªßÁª≠ËäÇÊó•ÂÄíËÆ°Êó∂', 'info');
                }, 300);
            }
            
            hideEnvelope() {
                this.envelopeSection.classList.remove('active');
                this.particleTextContainer.classList.remove('active');
            }
            
            showLoading(text) {
                this.loadingText.textContent = text;
                this.loadingOverlay.classList.add('active');
            }
            
            hideLoading() {
                this.loadingOverlay.classList.remove('active');
            }
            
            showNotification(message, type = 'info') {
                const colors = {
                    error: 'linear-gradient(135deg, #FF3366, #FF0033)',
                    success: 'linear-gradient(135deg, #00CC88, #009955)',
                    warning: 'linear-gradient(135deg, #FFCC00, #FF9900)',
                    info: 'linear-gradient(135deg, #33CCFF, #0099CC)'
                };
                
                this.notification.style.background = colors[type] || colors.info;
                this.notificationText.textContent = message;
                this.notification.classList.add('show');
                
                setTimeout(() => {
                    this.notification.classList.remove('show');
                }, 3500);
            }
            
            prepareAudio() {
                this.celebrationAudio.volume = 0.7;
                this.celebrationAudio.preload = 'auto';
            }
            
            enableAudio() {
                this.celebrationAudio.play().then(() => {
                    this.celebrationAudio.pause();
                    this.celebrationAudio.currentTime = 0;
                }).catch(() => {});
            }
            
            preloadEffects() {
                // È¢ÑÂàõÂª∫‰∏Ä‰∫õÁÉüËä±Á≤íÂ≠ê
                for (let i = 0; i < 20; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'firework-particle';
                    particle.style.opacity = '0';
                    this.fireworksOverlay.appendChild(particle);
                }
                
                // È¢ÑÂä†ËΩΩ‰∏Ä‰∫õÊòüÊòü
                setTimeout(() => {
                    for (let i = 0; i < 50; i++) {
                        const star = document.createElement('div');
                        star.className = 'star';
                        star.style.left = `${Math.random() * 100}%`;
                        star.style.top = `${Math.random() * 100}%`;
                        star.style.width = star.style.height = `${Math.random() * 2 + 1}px`;
                        star.style.opacity = '0';
                        this.universe.appendChild(star);
                    }
                }, 500);
            }
            
            handleResize() {
                // Êõ¥Êñ∞Á≤íÂ≠êÊñáÂ≠óÁîªÂ∏É
                const canvas = document.getElementById('particle-canvas');
                if (canvas) {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                }
            }
        }
        
        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', () => {
            // Èò≤Ê≠¢Âè≥ÈîÆËèúÂçï
            document.addEventListener('contextmenu', e => e.preventDefault());
            
            // Èò≤Ê≠¢ÈÄâÊã©ÊñáÂ≠ó
            document.addEventListener('selectstart', e => e.preventDefault());
            
            // Èò≤Ê≠¢F12Á≠âÂºÄÂèëËÄÖÂ∑•ÂÖ∑
            document.addEventListener('keydown', e => {
                if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && ['I','J','C'].includes(e.key))) {
                    e.preventDefault();
                }
            });
            
            // ÂàùÂßãÂåñÂ∫îÁî®
            const app = new CompleteHolidayCountdown();
            window.holidayApp = app;
            
            // ÊòæÁ§∫Ê¨¢Ëøé‰ø°ÊÅØ
            console.log('%cüéâ Êô∫ËÉΩËäÇÊó•ÂÄíËÆ°Êó∂Á≥ªÁªüÂ∑≤ÂêØÂä® üéâ', 
                'color: #FF3366; font-size: 18px; font-weight: bold; text-shadow: 0 0 10px rgba(255,51,102,0.5);');
            console.log('%cÁ≥ªÁªüÂäüËÉΩÔºöÊô∫ËÉΩËäÇÊó•Ê£ÄÊµã„ÄÅÂä®ÊÄÅÂÄíËÆ°Êó∂„ÄÅÁâπÊïàÂ∫ÜÁ•ù„ÄÅAIÁ•ùÁ¶èÁîüÊàê', 
                'color: #33CCFF; font-size: 14px;');
        });
    </script>
</body>
</html>
